<div class="messages-container">
  <!-- Header -->
  <div class="header">
    <div class="header-inner">
      <h1 class="header-title">Messages</h1>
      <button class="new-message-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 5V19" stroke="#ECECEC" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M5 12H19" stroke="#ECECEC" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    <div class="divider"></div>
  </div>
  
  <div class="search-container">
    <div class="search-input-container">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" stroke="#585858" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M21 21L16.65 16.65" stroke="#585858" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      
      <input 
        type="text"
        class="search-input"
        placeholder="Search in messages..."
        [(ngModel)]="searchQuery"
      >
      
      <button 
        class="clear-button" 
        *ngIf="searchQuery.trim()" 
        (click)="clearSearch()"
      >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18" stroke="#585858" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M6 6L18 18" stroke="#585858" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>
  
  <div class="contacts-list">
    <div 
      class="contact-item" 
      *ngFor="let contact of filteredContacts"
      routerLink="/chat"
    >
      <div class="avatar-container">
        <img [src]="contact.avatar" [alt]="contact.name" class="avatar">
        <div class="online-status" *ngIf="contact.isOnline"></div>
      </div>
      
      <div class="contact-details">
        <div class="contact-header">
          <h3 class="contact-name">{{ contact.name }}</h3>
          <span class="message-time">{{ contact.lastMessageTime }}</span>
        </div>
        
        <div class="contact-subheader">
          <span class="contact-username">{{ contact.username }}</span>
          <span 
            class="unread-count" 
            *ngIf="contact.unreadCount"
          >
            {{ contact.unreadCount }}
          </span>
        </div>
        
        <p class="last-message">{{ contact.lastMessage }}</p>
      </div>
    </div>
    
    <div class="no-results" *ngIf="filteredContacts.length === 0">
      <p>No messages found for "{{ searchQuery }}"</p>
    </div>
  </div>
</div> 